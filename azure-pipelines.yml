trigger:
 - main

pool:
  vmImage: ubuntu-latest

stages:
  - stage: build_stage
    jobs:
      - job: jobA
        pool:
          vmImage: ubuntu-latest
        steps:
         - task: Maven@4
           inputs:
            azureSubscription: 'Azure subscription 1(44660563-bf97-4629-b923-168922355073)'
            mavenPomFile: 'pom.xml'
            publishJUnitResults: false
            javaHomeOption: 'JDKVersion'
            mavenVersionOption: 'Default'
            mavenAuthenticateFeed: false
            effectivePomSkip: false
            sonarQubeRunAnalysis: false


  - stage: test_stage
    dependsOn: build_stage
    condition: succeeded()
    jobs:
      - job: jobA
        steps:
          -  script: echo "test"
  - stage: deploy
    dependsOn: build_stage
    jobs:
      -  job: 
         steps:
           -  script: echo "deploy"
